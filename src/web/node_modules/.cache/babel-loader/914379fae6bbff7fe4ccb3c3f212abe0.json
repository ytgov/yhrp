{"remainingRequest":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/babel-loader/lib/index.js!/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/src/router/index.js","dependencies":[{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/src/router/index.js","mtime":1657148608544},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/babel.config.js","mtime":1637992831000},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lZGdhcmFsbGFuZ2xlei9Eb2N1bWVudHMvRGV2ZWxvcC9iaXpvbnQveWhycC9zcmMvd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBIb21lIGZyb20gIi4uL2NvbXBvbmVudHMvSG9tZS52dWUiOwppbXBvcnQgRGFzaGJvYXJkIGZyb20gIi4uL2NvbXBvbmVudHMvRGFzaGJvYXJkLnZ1ZSI7CmltcG9ydCBOb3RGb3VuZCBmcm9tICIuLi92aWV3cy9Ob3RGb3VuZC52dWUiOwppbXBvcnQgRm9ybSBmcm9tICIuLi9jb21wb25lbnRzL0Zvcm0iOwppbXBvcnQgR3JpZCBmcm9tICIuLi9jb21wb25lbnRzL0dyaWQiOwppbXBvcnQgTG9naW4gZnJvbSAiLi4vY29tcG9uZW50cy9Mb2dpbiI7CmltcG9ydCBMb2dpbkNvbXBsZXRlIGZyb20gIi4uL2NvbXBvbmVudHMvTG9naW5Db21wbGV0ZSI7CmltcG9ydCBIaXN0b3JpY1BsYWNlc0dyaWQgZnJvbSAiLi4vY29tcG9uZW50cy9IaXN0b3JpY1BsYWNlc0dyaWQiOwppbXBvcnQgUHJvZmlsZSBmcm9tICIuLi9jb21wb25lbnRzL1Byb2ZpbGUiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICIvIiwKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAiL2Rhc2hib2FyZCIsCiAgbmFtZTogIkRhc2hib2FyZCIsCiAgY29tcG9uZW50OiBEYXNoYm9hcmQKfSwgewogIHBhdGg6ICIvZm9ybSIsCiAgbmFtZTogIkJhc2ljIEZvcm0iLAogIGNvbXBvbmVudDogRm9ybSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAiL2dyaWQiLAogIG5hbWU6ICJEYXRhIGdyaWQiLAogIGNvbXBvbmVudDogR3JpZCwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAiL3NpZ24taW4iLAogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogIi9sb2dpbi1jb21wbGV0ZSIsCiAgbmFtZTogIkxvZ2luQ29tcGxldGUiLAogIGNvbXBvbmVudDogTG9naW5Db21wbGV0ZQp9LCB7CiAgcGF0aDogIi9wcm9maWxlIiwKICBuYW1lOiAiUHJvZmlsZSIsCiAgY29tcG9uZW50OiBQcm9maWxlLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICIvaGlzdG9yaWMtcGxhY2VzIiwKICBuYW1lOiAiSGlzdG9yaWNQbGFjZXNHcmlkIiwKICBjb21wb25lbnQ6IEhpc3RvcmljUGxhY2VzR3JpZCAvLyBtZXRhOiB7IHJlcXVpcmVzQXV0aDogdHJ1ZSB9LAoKfSwgewogIHBhdGg6ICIqIiwKICBuYW1lOiAiTm90IEZvdW5kIiwKICBjb21wb25lbnQ6IE5vdEZvdW5kCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogImhpc3RvcnkiLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIHJlcXVpcmVzQXV0aCwgaXNBdXRoZW50aWNhdGVkOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXF1aXJlc0F1dGggPSB0by5tZXRhLnJlcXVpcmVzQXV0aCB8fCBmYWxzZTsKCiAgICAgICAgICAgIGlmIChyZXF1aXJlc0F1dGgpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goImNoZWNrQXV0aGVudGljYXRpb24iKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGlzQXV0aGVudGljYXRlZCA9IHN0b3JlLmdldHRlcnMuaXNBdXRoZW50aWNhdGVkOwoKICAgICAgICAgICAgaWYgKCEocmVxdWlyZXNBdXRoICYmICFpc0F1dGhlbnRpY2F0ZWQpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZygiWW91IGFyZW4ndCBhdXRoZW50aWNhdGQsIHJlZGlyZWN0aW5nIHRvIHNpZ24taW4iKTsKICAgICAgICAgICAgbmV4dCgiL3NpZ24taW4iKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/src/router/index.js"],"names":["Vue","VueRouter","Home","Dashboard","NotFound","Form","Grid","Login","LoginComplete","HistoricPlacesGrid","Profile","store","use","routes","path","name","component","meta","requiresAuth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","dispatch","isAuthenticated","getters","console","log"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"../components/Home.vue\";\nimport Dashboard from \"../components/Dashboard.vue\";\nimport NotFound from \"../views/NotFound.vue\";\nimport Form from \"../components/Form\";\nimport Grid from \"../components/Grid\";\nimport Login from \"../components/Login\";\nimport LoginComplete from \"../components/LoginComplete\";\nimport HistoricPlacesGrid from \"../components/HistoricPlacesGrid\";\nimport Profile from \"../components/Profile\";\nimport store from \"../store\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home\n  },\n  {\n    path: \"/dashboard\",\n    name: \"Dashboard\",\n    component: Dashboard\n  },\n  {\n    path: \"/form\",\n    name: \"Basic Form\",\n    component: Form,\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: \"/grid\",\n    name: \"Data grid\",\n    component: Grid,\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: \"/sign-in\",\n    name: \"Login\",\n    component: Login\n  },\n  {\n    path: \"/login-complete\",\n    name: \"LoginComplete\",\n    component: LoginComplete\n  },\n  {\n    path: \"/profile\",\n    name: \"Profile\",\n    component: Profile,\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n\t\tpath: \"/historic-places\",\n\t\tname: \"HistoricPlacesGrid\",\n\t\tcomponent: HistoricPlacesGrid,\n\t\t// meta: { requiresAuth: true },\n\t},\n  {\n    path: \"*\",\n    name: \"Not Found\",\n    component: NotFound\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\nrouter.beforeEach(async (to, from, next) => {\n  var requiresAuth = to.meta.requiresAuth || false;\n\n  if (!requiresAuth) {\n    return next();\n  }\n\n  await store.dispatch(\"checkAuthentication\");\n  var isAuthenticated = store.getters.isAuthenticated;\n\n  if (requiresAuth && !isAuthenticated) {\n    console.log(\"You aren't authenticatd, redirecting to sign-in\")\n    next(\"/sign-in\");\n    return;\n  }\n\n  return next();\n});\n\nexport default router;\n"]}]}