{"remainingRequest":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/babel-loader/lib/index.js!/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/src/store/auth.js","dependencies":[{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/src/store/auth.js","mtime":1637992831000},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/babel.config.js","mtime":1637992831000},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lZGdhcmFsbGFuZ2xlei9Eb2N1bWVudHMvRGV2ZWxvcC9iaXpvbnQveWhycC9zcmMvd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBBVVRIX0NIRUNLX1VSTCwgTE9HT1VUX1VSTCB9IGZyb20gIi4uL3VybHMiOwp2YXIgc3RhdGUgPSB7CiAgdXNlcjogbnVsbCwKICBmdWxsTmFtZTogIiIKfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiAhIXN0YXRlLnVzZXI7CiAgfSwKICBmdWxsTmFtZTogZnVuY3Rpb24gZnVsbE5hbWUoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5mdWxsTmFtZTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGNoZWNrQXV0aGVudGljYXRpb246IGZ1bmN0aW9uIGNoZWNrQXV0aGVudGljYXRpb24oX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoQVVUSF9DSEVDS19VUkwpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0VXNlciIsIHJlc3AuZGF0YSk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29tbWl0KCJjbGVhclVzZXIiKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIHNpZ25PdXQ6IGZ1bmN0aW9uIHNpZ25PdXQoX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChMT0dPVVRfVVJMKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgiY2xlYXJVc2VyIik7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgc3RhdGUuZnVsbE5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lOwogIH0sCiAgY2xlYXJVc2VyOiBmdW5jdGlvbiBjbGVhclVzZXIoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgc3RhdGUuZnVsbE5hbWUgPSBudWxsOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/edgarallanglez/Documents/Develop/bizont/yhrp/src/web/src/store/auth.js"],"names":["axios","AUTH_CHECK_URL","LOGOUT_URL","state","user","fullName","getters","isAuthenticated","actions","checkAuthentication","commit","get","then","resp","data","catch","signOut","err","console","error","mutations","setUser","displayName","clearUser"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,SAA3C;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,IAAI,EAAE,IADI;AAEVC,EAAAA,QAAQ,EAAE;AAFA,CAAd;AAIA,IAAMC,OAAO,GAAG;AACZC,EAAAA,eAAe,EAAE,yBAAAJ,KAAK;AAAA,WAAI,CAAC,CAACA,KAAK,CAACC,IAAZ;AAAA,GADV;AAEZC,EAAAA,QAAQ,EAAE,kBAAAF,KAAK,EAAI;AAAE,WAAOA,KAAK,CAACE,QAAb;AAAuB;AAFhC,CAAhB;AAIA,IAAMG,OAAO,GAAG;AACNC,EAAAA,mBADM,qCAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVC,cAAAA,MAAU,QAAVA,MAAU;AAAA;AAAA,qBAC5BV,KAAK,CAACW,GAAN,CAAUV,cAAV,EACDW,IADC,CACI,UAAAC,IAAI,EAAI;AACVH,gBAAAA,MAAM,CAAC,SAAD,EAAYG,IAAI,CAACC,IAAjB,CAAN;AACH,eAHC,EAGCC,KAHD,CAGO,YAAM;AACXL,gBAAAA,MAAM,CAAC,WAAD,CAAN;AACH,eALC,CAD4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOrC,GARW;AASNM,EAAAA,OATM,0BASc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVN,cAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA,qBAChBV,KAAK,CAACW,GAAN,CAAUT,UAAV,EACDU,IADC,CACI,YAAM;AACRF,gBAAAA,MAAM,CAAC,WAAD,CAAN;AACH,eAHC,EAGCK,KAHD,CAGO,UAAAE,GAAG,EAAI;AACZC,gBAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH,eALC,CADgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOzB;AAhBW,CAAhB;AAkBA,IAAMG,SAAS,GAAG;AACdC,EAAAA,OADc,mBACNlB,KADM,EACCC,IADD,EACO;AACjBD,IAAAA,KAAK,CAACC,IAAN,GAAaA,IAAb;AACAD,IAAAA,KAAK,CAACE,QAAN,GAAiBD,IAAI,CAACkB,WAAtB;AACH,GAJa;AAKdC,EAAAA,SALc,qBAKJpB,KALI,EAKG;AACbA,IAAAA,KAAK,CAACC,IAAN,GAAa,IAAb;AACAD,IAAAA,KAAK,CAACE,QAAN,GAAiB,IAAjB;AACH;AARa,CAAlB;AAWA,eAAe;AACXF,EAAAA,KAAK,EAALA,KADW;AAEXG,EAAAA,OAAO,EAAPA,OAFW;AAGXE,EAAAA,OAAO,EAAPA,OAHW;AAIXY,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import axios from \"axios\";\r\nimport { AUTH_CHECK_URL, LOGOUT_URL } from \"../urls\";\r\n\r\nconst state = {\r\n    user: null,\r\n    fullName: \"\"\r\n};\r\nconst getters = {\r\n    isAuthenticated: state => !!state.user,\r\n    fullName: state => { return state.fullName },\r\n};\r\nconst actions = {\r\n    async checkAuthentication({ commit }) {\r\n        await axios.get(AUTH_CHECK_URL)\r\n            .then(resp => {\r\n                commit(\"setUser\", resp.data);\r\n            }).catch(() => {\r\n                commit(\"clearUser\");\r\n            });\r\n    },\r\n    async signOut({ commit }) {\r\n        await axios.get(LOGOUT_URL)\r\n            .then(() => {\r\n                commit(\"clearUser\");\r\n            }).catch(err => {\r\n                console.error(err);\r\n            });\r\n    }\r\n};\r\nconst mutations = {\r\n    setUser(state, user) {\r\n        state.user = user;\r\n        state.fullName = user.displayName;\r\n    },\r\n    clearUser(state) {\r\n        state.user = null;\r\n        state.fullName = null;\r\n    }\r\n};\r\n\r\nexport default {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n};"]}]}